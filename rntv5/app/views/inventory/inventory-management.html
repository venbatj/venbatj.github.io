<div class="ui-page">
    <form name="FrmInventor" role="form" novalidate>
        <div class="portlet light mb-3">
            <div class="portlet-body">
                <div class="row">
                    <div class="col-md-12">
                        <h3 style="text-align: left;">
							<button type="button" ng-click="backToManagmentPage()" class="btn blue fa fa-reply-all"> Back</i></button>
                            <strong ng-show="OrderInventory">Order Inventory</strong>
                        </h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="portlet light mb-3">
            <div class="portlet-title">
                <div class="caption">
                    <span class="caption-subject bold">Inventory Details </span>
                </div>
            </div>
            <div class="portlet-body">
                <div class="form-body">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-3" ng-show="OrderTypeID">
                            <div class="form-group">
                                <label class="fld-required">Order Type </label>
                                <div class="input-group">
                                    <select id="order-type" name="OrderTypeID" class="form-control select2" required
                                    ng-model="Inventory.OrderTypeID" ng-change="onOrderTypeChange(OIT.OrderTypeID);CheckTypeValue(Inventory.OrderTypeID);"> 
                                        <option value="{{OIT.ID}}" ng-repeat="OIT in OrderTypeList">{{OIT.OrderType}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3" ng-show="LinenSupp">
                            <div class="form-group">
                                <label>Linen Supplier List</label>
                                <div class="input-group">
                                    <select id="inventory-supplier" name="Supplier" class="form-control select2"
                                    ng-model="Inventory.SupplierID" ng-change="onSupplierChange(Inventory.SupplierID)"> 
                                    <option value="{{Ils.ID}}" ng-repeat="Ils in SupplierList">{{Ils.LinenSupplierName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <div class="form-group">
                                <label class="fld-required">Inventory Move </label>
                                <div class="input-group">
                                    <select id="inventory-move" name="InventoryMoveID" class="form-control select2" required
                                    ng-model="Inventory.InventoryMoveID" ng-change="onInventoryMoveChange(IM.InventoryMoveID)"> 
                                        <option value="{{IM.ID}}" ng-repeat="IM in InventoryMoveList">{{IM.InventoryMove}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <div class="form-group" ng-class="{'has-error' : FrmInventor.ScannedQty.$invalid && FrmInventor.ScannedQty.$touched}">
                                <label class="fld-required">Scanned Qty</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" ng-paste="paste($event)" name="ScannedQty" ng-keypress="filterValue($event)" ng-model="Inventory.ScannedQty" required />
                                    <p ng-show="FrmInventor.ScannedQty.$invalid && FrmInventor.ScannedQty.$touched" class="help-block">This field is required.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <div class="form-group" ng-class="{'has-error' : FrmInventor.ManualQty.$invalid && FrmInventor.ManualQty.$touched}">
                                <label class="fld-required">Manual Qty Update</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" ng-paste="paste($event)" name="ManualQty" ng-keypress="filterValue($event)" ng-model="Inventory.ManualQty" required> 
									<p ng-show="FrmInventor.ManualQty.$invalid && FrmInventor.ManualQty.$touched" class="help-block">This field is Required.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <div class="form-group">
                                <label class="fld-required">Identify Linen </label>
                                <div class="input-group">
                                    <select id="identify-linen" name="IdentifyLinenID" class="form-control select2" required
                                    ng-model="Inventory.IdentifyLinenID" ng-change="onIdentifyLinenChange(IL.IdentifyLinenID)"> 
                                        <option value="{{IL.ID}}" ng-repeat="IL in IdentifyLinenList">{{IL.IdentifyLinen}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <div class="form-group">
                                <label class="fld-required"> Action </label>
                                <div class="input-group">
                                    <select id="inventory-action" name="ActionID" class="form-control select2" required
                                    ng-model="Inventory.ActionID" ng-change="onInventoryActionChange(Inventory.ActionID)"> 
                                        <option value="{{I.ID}}" ng-repeat="I in InventoryActionList">{{I.InventoryAction}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3" ng-show="Customer">
                            <div class="form-group">
                                <label class="fld-required">Customer </label>
                                <div class="input-group">
                                    <select id="customer-id" name="CustomerID" class="form-control select2" required
                                    ng-model="Inventory.CustomerID" ng-change="onCustomerChange(Inventory.CustomerID, FlagName)"> 
                                        <option value="{{Ct.ID}}" ng-repeat="Ct in CustomerList">{{Ct.CustomerName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3" ng-show="Warehouse">
                            <div class="form-group">
                                <label>Warehouse List</label>
                                <div class="input-group">
                                    <select id="inventory-warehouse" name="WarehouseID" class="form-control select2"
                                    ng-model="Inventory.WarehouseID" ng-change="onCustomerChange(Inventory.WarehouseID, FlagName)"> 
                                    <option value="{{IW.ID}}" ng-repeat="IW in InventoryWarehouseList">{{IW.WarehouseName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3" ng-show="Reasoning">
                            <div class="form-group">
                                <label class="fld-required">Ordering Reason </label>
                                <div class="input-group">
                                    <select id="ordering-reason" name="OrderingReasonID" class="form-control select2" required
                                    ng-model="Inventory.OrderingReasonID" ng-change="onOrderingReasonChange(OIR.OrderingReasonID)"> 
                                        <option value="{{OIR.ID}}" ng-repeat="OIR in OrderingReasonList">{{OIR.OrderingReason}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class ="row"  >
           <div  class="col-md-12" ng-if="CustomerEnable">
                <div class="portlet light mb-3">
                    <div class="portlet-title">
                        <div class="caption">
                            <span ng-show="OrderTypes" class="caption-subject bold">{{OrderType}}</span>
                            <span ng-show="AddInvtr" class="caption-subject bold">Warehouse</span>
                        </div>
                    </div>
                    <div class="form-body">
                        <div class ="row">
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="fld-required">Category</label>
                                    <div class="input-group">
                                        <select id="category" name="Category" class="form-control select2" 
                                        ng-model="SubInventory.CategoryID" ng-change="onCategoryChange(SubInventory.CategoryID, Flag);" > 
                                            <option value="{{Category.ID}}" ng-repeat="Category in CategoryList">{{Category.CategoryName}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="fld-required">Product</label>
                                    <div class="input-group">
                                        <select id="product" name="Product" class="form-control select2" 
                                        ng-model="SubInventory.ProductID" ng-change="onProductChange(SubInventory.ProductID, Flag1)"> 
                                            <option value="{{Product.ID}}" ng-repeat="Product in ProductList">{{Product.ProductName}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="fld-required">Variant</label>
                                    <div class="input-group">
                                        <select id="variant" name="Variant" class="form-control select2" 
                                        ng-model="SubInventory.VariantID" ng-change="onVariantChange(SubInventory.VariantID)"> 
                                            <option value="{{Variant.ID}}" ng-repeat="Variant in VariantList">{{Variant.VariantName}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group" ng-class="{'has-error' : FrmInventor.QtyByCustomer.$invalid && FrmInventor.QtyByCustomer.$touched}">
                                    <label class="fld-required">Qty by Customer</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" ng-keypress="filterValue($event)" name="QtyByCustomer" ng-model="SubInventory.QtyByCustomer" ng-keyup="Calculate(QtyToBeOrdered)" >
                                        <p ng-show="FrmInventor.QtyByCustomer.$invalid && FrmInventor.QtyByCustomer.$touched" class="help-block">This field is Required.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group" ng-class="{'has-error' : FrmInventor.QtyByWarehouse.$invalid && FrmInventor.QtyByWarehouse.$touched}">
                                    <label class="fld-required">Qty by Warehouse</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" ng-paste="paste($event)" name="QtyByWarehouse" ng-keypress="filterValue($event)" ng-model="SubInventory.QtyByWarehouse" >
                                        <p ng-show="FrmInventor.QtyByWarehouse.$invalid && FrmInventor.QtyByWarehouse.$touched" class="help-block">This field is Required.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group" ng-class="{'has-error' : FrmInventor.QtyUsedFromWarehouse.$invalid && FrmInventor.QtyUsedFromWarehouse.$touched}">
                                    <label class="fld-required">Qty that can be used from Warehouse</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" ng-keypress="filterValue($event)" name="QtyUsedFromWarehouse" ng-model="SubInventory.QtyUsedFromWarehouse" ng-keyup="Calculate(QtyToBeOrdered)" >
                                        <p ng-show="FrmInventor.QtyUsedFromWarehouse.$invalid && FrmInventor.QtyUsedFromWarehouse.$touched" class="help-block">This field is Required.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group" ng-class="{'has-error' : FrmInventor.QtyToBeOrdered.$invalid && FrmInventor.QtyToBeOrdered.$touched}">
                                    <label class="fld-required">Qty to be Ordered</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="QtyToBeOrdered" ng-model="SubInventory.QtyToBeOrdered" ng-disabled="disableorder" ng-keyup="Calculate(QtyToBeOrdered)" >
                                        <p ng-show="FrmInventor.QtyToBeOrdered.$invalid && FrmInventor.QtyToBeOrdered.$touched" class="help-block">This field is Required.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3">
                                <div class="form-group" >      
                                    <label class="fld-required">RFID Tag</label>
                                    <div class="mt-radio-inline">
                                        <label class="mt-radio">
                                            <input type="radio" name="RFID" value="Y" ng-model="SubInventory.RFIDTag"  > Yes
                                            <span></span>
                                        </label>
                                        <label class="mt-radio">
                                            <input type="radio" name="RFID" value="N" ng-model="SubInventory.RFIDTag" > No
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <label>&nbsp;</label>
                                    <div class="action-group">
                                        <button type="button" ng-click="addData()" class="btn blue" ng-disabled="FrmInventor.$invalid">
                                                <i class="fa fa-plus"> Add Data</i></button>
                                    </div>
                                </div>
                            </div>
                        </div>					
                    </div>
                </div>
            </div>
        </div>
        <div class ="row"  >
           <div  class="col-md-12" ng-if="WarehouseEnable">
                <div class="portlet light mb-3">
                    <div class="portlet-title">
                        <div class="caption">
                            <span class="caption-subject bold">Warehouse</span>
                        </div>				
                    </div>
                    <div class="portlet-title">
                        <div class="form-body">
                            <div class ="row">
                                <div class="col-xs-12 col-sm-6 col-md-3">
                                    <div class="form-group">
                                        <label class="fld-required">Category</label>
                                        <div class="input-group">
                                            <select id="category" name="Category" class="form-control select2" 
                                            ng-model="SubInventory.CategoryID" ng-change="onCategoryChange(SubInventory.CategoryID, Flag);" > 
                                                <option value="{{Category.ID}}" ng-repeat="Category in CategoryList">{{Category.CategoryName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-3">
                                    <div class="form-group">
                                        <label class="fld-required">Product</label>
                                        <div class="input-group">
                                            <select id="product" name="Product" class="form-control select2" 
                                            ng-model="SubInventory.ProductID" ng-change="onProductChange(SubInventory.ProductID, Flag1)" > 
                                                <option value="{{Product.ID}}" ng-repeat="Product in ProductList">{{Product.ProductName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-3">
                                    <div class="form-group">
                                        <label class="fld-required">Variant</label>
                                            <div class="input-group">
                                                <select id="variant" name="Variant" class="form-control select2" ng-model="SubInventory.VariantID"
                                                ng-change="onVariantChange(SubInventory.VariantID)"> 
                                                <option value="{{Variant.ID}}" ng-repeat="Variant in VariantList">{{Variant.VariantName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-3">
                                    <div class="form-group" ng-class="{'has-error' : FrmInventor.QtyForWarehouse.$invalid && FrmInventor.QtyForWarehouse.$touched}">
                                        <label class="fld-required">Available Quantity</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" name="QtyForWarehouse" ng-keypress="filterValue($event)" ng-model="SubInventory.QtyForWarehouse" >
                                            <p ng-show="FrmInventor.QtyForWarehouse.$invalid && FrmInventor.QtyForWarehouse.$touched" class="help-block">This field is Required.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-md-12">
                                    <div class="form-group">      
                                        <label class="fld-required">RFID Tag</label>
                                        <div class="mt-radio-inline">
                                            <label class="mt-radio">
                                                <input type="radio" name="RFIDTag" value="Y" ng-model="SubInventory.RFIDTag"> Yes
                                                <span></span>
                                            </label>
                                            <label class="mt-radio">
                                                <input type="radio" name="RFIDTag" value="N" ng-model="SubInventory.RFIDTag"> No
                                                    <span></span>
                                            </label>
                                        </div>
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                <label>&nbsp;</label>
                                                <div class="action-group">
                                                    <button type="button" ng-click="addData()" class="btn blue" ng-disabled="FrmInventor.$invalid">
                                                        <i class="fa fa-plus"> Add Data</i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>  
                                </div>					
                            </div>
                        </div>
                    </div>
                </div>
            </div>		
        </div>	
		<div class="portlet light mb-3">
			<div class="portlet-body">
				<div class="table-responsive">
					<table class="table table-bordered" id="inventory-management-table">
						<thead>
							<tr>
                                <!-- <th></th> -->
								<th> S.No </th>
								<th> Category </th>
								<th> Product </th>
								<th> Variant </th>
								<th ng-show="ForWarehouse"> Qty For Warehouse </th>
								<th ng-show="Foracustomer"> Qty By Customer </th>
								<th ng-show="Foracustomer"> Qty By Warehouse </th>
								<th ng-show="Foracustomer"> Qty Used From Warehouse </th>
								<th ng-show="Foracustomer"> Qty To Be Ordered</th>
								<th> RFID Tag</th>
                                <!-- <th ng-show="Order"> Inventory Order </th> -->
                                <th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="Data in InventoryData" ng-show="childData"> 
                                <!-- <td>{{Data}}</td> -->
                                <td >{{$index + 1}}</td>
                                <td >{{Data.CategoryName}}</td>
								<td >{{Data.ProductName}}</td>
								<td >{{Data.VariantName}}</td>
								<td ng-show="ForWarehouse">{{Data.QtyForWarehouse}}</td>
								<td ng-show="Foracustomer">{{Data.QtyByCustomer}}</td>
								<td ng-show="Foracustomer">{{Data.QtyByWarehouse}}</td>
								<td ng-show="Foracustomer">{{Data.QtyUsedFromWarehouse}}</td>
								<td ng-show="Foracustomer">{{Data.QtyToBeOrdered}}</td>
								<td>{{Data.RFIDTag}}</td>
								<!-- <td ng-show="Order">{{Inventory.InventoryOrderID}}</td> -->
                                <td><a><i title="Remove" ng-click="removeData(Data.ID)" class="delete-icon fa fa-trash font-red-thunderbird"></i></a>
                                    <a><i title="Edit" ng-click="editData(Data.ID)" class="edit-icon fa fa-edit font-green-jungle"></i></a></td>
							</tr>
						</tbody>
						<!-- <tfoot>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tfoot> -->
					</table>
                    <div class="col-xs-12">
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <div class="action-group">
                                <!-- <button type="button" ng-click="saveInventory(FrmInventor.$valid || FrmSubInventor.$valid)" class="btn blue" ng-disabled="FrmInventor.$invalid || FrmSubInventor.$invalid">Save</button> -->
                                <button type="button" ng-click="saveInventory(FrmInventor.$valid)" class="btn blue" ng-disabled="FrmInventor.$invalid">
                                    <i class="fa fa-save"> Save</i></button>
                                <button type="button" ng-click="cancelSubInvantory()" class="btn blue"><i class="fa fa-close"> Cancel</i></button>
                            </div>
                        </div>
                    </div>
				</div>	
			</div>
		</div>

    </form>
</div>